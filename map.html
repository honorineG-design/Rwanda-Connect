<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>City Map - RwandaConnect</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>

<header>
  <h1>RwandaConnect</h1>
  <nav>
    <a href="index.html" data-translate="home">Home</a>
    <a href="cities.html" data-translate="cities">Cities</a>
    <a href="map.html" data-translate="map">Map</a>
    <a href="login.html" data-translate="login">Login / Sign Up</a>
    <select id="language-selector">
      <option value="en">EN</option>
      <option value="sw">SW</option>
      <option value="rw">RW</option>
      <option value="fr">FR</option>
    </select>
  </nav>
</header>

<main>
  <h2 id="city-name"></h2>
  <iframe id="city-map" allowfullscreen loading="lazy" style="width:100%;height:500px;border:none;border-radius:1rem;box-shadow:0 16px 48px rgba(0,0,0,0.4);"></iframe>
</main>

<footer>
  <p data-translate="copyright">2025 RwandaConnect.</p>
</footer>

<script src="lang.js"></script>
<script>
  const urlParams = new URLSearchParams(window.location.search);
  const city = urlParams.get('city');
  document.getElementById('city-name').textContent = city;

  const mapFrame = document.getElementById('city-map');
  const maps = {
    Kigali: "https://www.google.com/maps?q=Kigali,+Rwanda&output=embed",
    Nyagatare: "https://www.google.com/maps?q=Nyagatare,+Rwanda&output=embed",
    Rubavu: "https://www.google.com/maps?q=Rubavu,+Rwanda&output=embed",
    Rwamagana: "https://www.google.com/maps?q=Rwamagana,+Rwanda&output=embed",
    Rusizi: "https://www.google.com/maps?q=Rusizi,+Rwanda&output=embed",
    Huye: "https://www.google.com/maps?q=Huye,+Rwanda&output=embed",
    Musanze: "https://www.google.com/maps?q=Musanze,+Rwanda&output=embed",
    Bugesera: "https://www.google.com/maps?q=Bugesera,+Rwanda&output=embed"
  };
  
  mapFrame.src = maps[city] || maps["Kigali"];

  document.getElementById('language-selector').addEventListener('change', e => setLanguage(e.target.value));
</script>

</body>
</html>