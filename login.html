<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - RwandaConnect</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>

<header>
  <h1>RwandaConnect</h1>
  <nav>
    <a href="index.html" data-translate="home">Home</a>
    <a href="cities.html" data-translate="cities">Cities</a>
    <a href="map.html" data-translate="map">Map</a>
    <a href="login.html" data-translate="login">Login / Sign Up</a>
    <select id="language-selector">
      <option value="en">EN</option>
      <option value="sw">SW</option>
      <option value="rw">RW</option>
      <option value="fr">FR</option>
    </select>
  </nav>
</header>

<main>
  <div class="form-container">
    <h2 data-translate="chooseRole">Choose your role</h2>
    
    <div class="role-selector">
      <button class="role-btn active" data-role="goer" data-translate="eventGoer">Event Goer</button>
      <button class="role-btn" data-role="host" data-translate="eventHost">Event Host</button>
    </div>

    <form id="login-form">
      <div class="form-group">
        <label for="username" data-translate="username">Username</label>
        <input type="text" id="username" data-translate-placeholder="username" required>
        <span class="error-message" data-translate="fieldRequired">This field is required</span>
      </div>

      <div class="form-group">
        <label for="password" data-translate="password">Password</label>
        <input type="password" id="password" data-translate-placeholder="password" required>
        <span class="error-message" data-translate="fieldRequired">This field is required</span>
      </div>

      <button type="submit" data-translate="login">Login</button>
    </form>

    <div class="signup-link">
      <p data-translate="noAccount">Don't have an account?</p>
      <div class="signup-options">
        <a href="signup-goer.html" data-translate="signupAsGoer">Sign up as Event Goer</a>
        <span data-translate="or">or</span>
        <a href="signup-host.html" data-translate="signupAsHost">Sign up as Event Host</a>
      </div>
    </div>
  </div>
</main>

<footer>
  <p data-translate="copyright">2025 RwandaConnect.</p>
</footer>

<script src="lang.js"></script>
<script>
  let selectedRole = 'goer';

  const roleButtons = document.querySelectorAll('.role-btn');
  roleButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      roleButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      selectedRole = btn.getAttribute('data-role');
    });
  });

  const form = document.getElementById('login-form');
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    
    let isValid = true;
    const inputs = form.querySelectorAll('input');
    
    inputs.forEach(input => {
      const errorMsg = input.parentElement.querySelector('.error-message');
      
      if (!input.value.trim()) {
        input.classList.add('error');
        errorMsg.classList.add('show');
        isValid = false;
      } else {
        input.classList.remove('error');
        errorMsg.classList.remove('show');
      }
    });

    if (isValid) {
      alert(`Login successful as ${selectedRole}!\n\nThis is a demo. In production, credentials would be verified.`);
      
    }
  });

  const inputs = form.querySelectorAll('input');
  inputs.forEach(input => {
    input.addEventListener('input', () => {
      if (input.value.trim()) {
        input.classList.remove('error');
        input.parentElement.querySelector('.error-message').classList.remove('show');
      }
    });
  });

  document.getElementById('language-selector').addEventListener('change', e => setLanguage(e.target.value));
</script>

</body>
</html>